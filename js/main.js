const util={diffDate:(e,t=!1)=>{const l=new Date,i=new Date(e),n=l.getTime()-i.getTime();let a;if(t){const e=n/2592e6,t=n/864e5,l=n/36e5,i=n/6e4;a=e>12?null:e>=1?parseInt(e)+" "+stellar.config.date_suffix.month:t>=1?parseInt(t)+" "+stellar.config.date_suffix.day:l>=1?parseInt(l)+" "+stellar.config.date_suffix.hour:i>=1?parseInt(i)+" "+stellar.config.date_suffix.min:stellar.config.date_suffix.just}else a=parseInt(n/864e5);return a},loadCSS:(e,t,l,i)=>{var n,a=window.document,s=a.createElement("link");if(t)n=t;else{var o=(a.body||a.getElementsByTagName("head")[0]).childNodes;n=o[o.length-1]}var r=a.styleSheets;if(i)for(var d in i)i.hasOwnProperty(d)&&s.setAttribute(d,i[d]);s.rel="stylesheet",s.href=e,s.media="only x",function e(t){if(a.body)return t();setTimeout(function(){e(t)})}(function(){n.parentNode.insertBefore(s,t?n:n.nextSibling)});var c=function(e){for(var t=s.href,l=r.length;l--;)if(r[l].href===t)return e();setTimeout(function(){c(e)})};function u(){s.addEventListener&&s.removeEventListener("load",u),s.media=l||"all"}return s.addEventListener&&s.addEventListener("load",u),s.onloadcssdefined=c,c(u),s},loadScript:(e,t)=>new Promise((l,i)=>{var n=document.createElement("script");if(n.src=e,t)for(let e of Object.keys(t))n[e]=t[e];else n.async=!0;n.onerror=i,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,l())},document.head.appendChild(n)}),jQuery:e=>{"undefined"==typeof jQuery?util.loadScript(stellar.plugins.jQuery).then(e):e()},copy:(e,t)=>{const l=document.getElementById(e);l&&(l.select(),document.execCommand("Copy"),t&&t.length>0&&hud.toast(t))},toggle:e=>{const t=document.getElementById(e);t&&t.classList.toggle("display")}},hud={toast:(e,t)=>{t=isNaN(t)?2e3:t;var l=document.createElement("div");l.classList.add("toast"),l.innerHTML=e,document.body.appendChild(l),setTimeout(function(){l.style.webkitTransition="-webkit-transform 0.5s ease-in, opacity 0.5s ease-in",l.style.opacity="0",setTimeout(function(){document.body.removeChild(l)},500)},t)}},l_body=document.querySelector(".l_body"),sidebar={toggle:()=>{l_body&&(l_body.classList.add("mobile"),l_body.classList.toggle("sidebar"))}},init={toc:()=>{util.jQuery(()=>{var e=[];$("article.md :header").each(function(t,l){e.push(l)}),$(document,window).scroll(function(t){var l=$(this).scrollTop(),i=null;for(var n in e){var a=$(e[n]);a.offset().top>l+32||(i?a.offset().top>=i.offset().top&&(i=a):i=a)}if(i){$("#toc a.toc-link").removeClass("active");var s="#"+i.attr("id");"#undefined"!=s?$('#toc a.toc-link[href="'+encodeURI(s)+'"]').addClass("active"):$("#toc a.toc-link:first").addClass("active")}})})},sidebar:()=>{util.jQuery(()=>{$("#toc a.toc-link").click(function(e){l_body.classList.remove("sidebar")}),$("#toc a#s-top").click(function(e){l_body.classList.remove("sidebar")})})},relativeDate:e=>{e.forEach(e=>{const t=e,l=t.getAttribute("datetime");let i=util.diffDate(l,!0);i&&(t.innerText=i)})}};if(init.toc(),init.sidebar(),init.relativeDate(document.querySelectorAll("#post-meta time")),stellar.plugins.scrollreveal&&util.loadScript(stellar.plugins.scrollreveal.js).then(function(){ScrollReveal().reveal("body .reveal",{distance:stellar.plugins.scrollreveal.distance,duration:stellar.plugins.scrollreveal.duration,interval:stellar.plugins.scrollreveal.interval,scale:stellar.plugins.scrollreveal.scale,easing:"ease-out"})}),stellar.plugins.lazyload&&(util.loadScript(stellar.plugins.lazyload.js,{defer:!0}),window.lazyLoadOptions={elements_selector:".lazy",threshold:0},window.addEventListener("LazyLoad::Initialized",function(e){window.lazyLoadInstance=e.detail.instance},!1),document.addEventListener("DOMContentLoaded",function(){lazyLoadInstance.update()})),stellar.plugins.sitesjs){void 0!=document.getElementById("sites-api")&&util.jQuery(()=>{util.loadScript(stellar.plugins.sitesjs,{defer:!0})})}if(stellar.plugins.friendsjs){void 0!=document.getElementById("friends-api")&&util.jQuery(()=>{util.loadScript(stellar.plugins.friendsjs,{defer:!0})})}if(stellar.plugins.swiper){void 0!=document.getElementById("swiper-api")&&(util.loadCSS(stellar.plugins.swiper.css),util.loadScript(stellar.plugins.swiper.js,{defer:!0}).then(function(){new Swiper(".swiper-container",{slidesPerView:"auto",spaceBetween:8,centeredSlides:!0,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}))}stellar.plugins.preload&&("instant_page"==stellar.plugins.preload.service?util.loadScript(stellar.plugins.preload.instant_page,{defer:!0,type:"module",integrity:"sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"}):"flying_pages"==stellar.plugins.preload.service&&(window.FPConfig={delay:0,ignoreKeywords:[],maxRPS:5,hoverDelay:25},util.loadScript(stellar.plugins.preload.flying_pages,{defer:!0})));