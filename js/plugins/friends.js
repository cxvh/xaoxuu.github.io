const friendsjs={requestAPI:(e,t,n)=>{let r=5;!function s(){return new Promise((o,i)=>{let a=0,l=setTimeout(()=>{0===a&&(a=2,l=null,i("请求超时"),0==r&&n())},5e3);fetch(e).then(function(e){if(2!==a&&(clearTimeout(l),o(e),l=null,a=1),e.ok)return e.json();throw new Error("Network response was not ok.")}).then(function(e){r=0,t(e)}).catch(function(e){r>0?(r-=1,setTimeout(()=>{s()},5e3)):n()})})}()},layout:e=>{const t=$(e.el)[0];$(t).append('<div class="loading-wrap"><svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg><p></p></div>'),friendsjs.requestAPI(e.api,function(e){$(t).find(".loading-wrap").remove(),e.content.forEach((e,n)=>{var r='<div class="user-simple">';r+='<a class="user-link" target="_blank" rel="external nofollow noopener noreferrer"',r+=' href="'+e.url+'">',r+='<img src="'+(e.avatar||"https://7.dusays.com/2021/03/03/87519671e4837.svg")+'" onerror="javascript:this.src=\'https://7.dusays.com/2021/03/03/87519671e4837.svg\';">',r+='<div class="name"><span>'+e.title+"</span></div>",r+="</a>",r+="</div>",$(t).find(".group-body").append(r)})},function(){$(t).find(".loading-wrap svg").remove(),$(t).find(".loading-wrap p").text("加载失败，请稍后重试。")})}};$(function(){const e=document.getElementsByClassName("friendsjs-wrap");for(var t=0;t<e.length;t++){const r=e[t],s=r.getAttribute("api"),o=r.getAttribute("group");if(null!=s){var n=new Object;n.class=r.getAttribute("class"),n.el=r,n.api=s,n.group=o,friendsjs.layout(n)}}});